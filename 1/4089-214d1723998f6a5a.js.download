"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4089],{99963:function(e,t,n){n.d(t,{Z:function(){return T}});var o=n(9008),r=n.n(o),a=n(96074),i=n(98417),l=n(16835),u=n(67294),s=n(11163),c=n(31955),d=n(66374),p=n(75256),m=n(95538),f=n(17534),g=n(88134),x=n(78268),h=n(37797),y=n(90352),v=(0,h.ZP)(y.Z).withConfig({displayName:"AnnouncementBarWWWStyles__StyledBarLink",componentId:"sc-1rb4toz-0"})(["align-items:center;background-color:",";border-radius:0 0 6px 6px;box-shadow:0 2px 4px "," !important;box-sizing:border-box;cursor:pointer;display:flex;justify-content:center;padding:16px 40px;position:fixed;transition:background-color 0.5s ease,box-shadow 0.5s ease,transform 0.5s ease;width:100%;z-index:8888;","{flex-direction:column;}p{color:",";margin:0;padding-top:1px;text-align:center;","{font-size:14px;}}&:hover{background-color:"," !important;box-shadow:0 10px 20px "," !important;}"],(function(e){return e.backgroundColor}),(0,g.E9)(g.ZP.blueDark,.6),(0,f.X)(f.A.tablet),(function(e){return e.color}),(0,f.X)(f.A.desktop),(function(e){return e.backgroundColor||"#15cd72"}),(0,g.E9)(g.ZP.blueDark,.1)),_=h.ZP.aside.withConfig({displayName:"AnnouncementBarWWWStyles__StyledBar",componentId:"sc-1rb4toz-1"})(["align-items:center;border-radius:6px;box-shadow:0 2px 4px "," !important;box-sizing:border-box;display:flex;justify-content:center;padding:16px 40px;position:fixed;transition:background-color 0.5s ease,box-shadow 0.5s ease,transform 0.5s ease;width:100%;z-index:8888;","{flex-direction:column;}p{color:"," !important;margin:0;padding-top:1px;text-align:center;","{font-size:14px;}}"],(0,g.E9)(g.ZP.blueDark,.1),(0,f.X)(f.A.tablet),(function(e){return e.color}),(0,f.X)(f.A.desktop)),b=h.ZP.img.withConfig({displayName:"AnnouncementBarWWWStyles__StyledIcon",componentId:"sc-1rb4toz-2"})(["max-width:20px;padding-right:5px;","{padding-right:0;padding-top:10px;}"],(0,f.X)(f.A.desktop)),w=(0,h.ZP)(x.Z).attrs({size:40}).withConfig({displayName:"AnnouncementBarWWWStyles__StyledDismiss",componentId:"sc-1rb4toz-3"})(["color:",";cursor:pointer;padding:8px;position:absolute;right:0;top:50%;transform:translateY(-50%);transition:color 0.5s ease;&:hover{color:",";}"],g.ZP.white,g.ZP.blue1),j=n(85893),k=function(e){var t=e.item,n=t.background_color,o=t.text_color,r=t.icon,a=t.link,i=t.referral_credit_text,l=t.referral_link_credit_text,c=(0,s.useRouter)(),d=(0,u.useState)(!1),p=d[0],f=d[1],g=(0,u.useCallback)((function(e){e.preventDefault(),f(!0)}),[]),x=(0,u.useMemo)((function(){return c.isReady?c.query.utm_source&&l.value?l.value:i.value:""}),[c,l.value,i.value]);return(0,u.useEffect)((function(){f(!1)}),[x]),p?null:a&&a.value&&c.isReady?(0,j.jsxs)(v,{id:"announcement-bar",url:a.value,style:{backgroundColor:n.value||"#15cd72"},color:"light"===o.value?"white":null,children:[r&&r.value?(0,j.jsx)(b,{src:r.value,alt:"icon for banner"}):null,(0,j.jsx)(m.default,{content:x}),(0,j.jsx)(w,{onClick:g})]},x):(0,j.jsxs)(_,{id:"announcement-bar",style:{backgroundColor:n.value||"#15cd72"},color:"light"===o.value?"white":null,children:[r&&r.value?(0,j.jsx)(b,{src:r.value,alt:"icon for banner"}):null,(0,j.jsx)(m.default,{content:x}),(0,j.jsx)(w,{onClick:g})]},x)},Z=function(e){var t=e.data,n=e.utmSourceParam,o=e.hasRefCode,r=(0,u.useMemo)((function(){return null===t||void 0===t?void 0:t.find((function(e){return e.utm_source.value===n}))}),[t,n]),a=(0,u.useMemo)((function(){return null===t||void 0===t?void 0:t.find((function(e){var t=e.utm_source;return!c.Z.get("last_logged_in_at")&&!t.value&&o}))}),[t,o]);return r?(0,j.jsx)(k,{item:r}):a?(0,j.jsx)(k,{item:a}):null},C=function(e){var t=e.data,n=(0,s.useRouter)(),o=(0,u.useState)(!1),r=o[0],a=o[1],i=(0,u.useCallback)((function(e){a(!0),fetch("https://cloud.digitalocean.com/api/v1/referrals/".concat(encodeURIComponent(e),"/register"),{method:"GET",mode:"cors",credentials:"include"})}),[]);(0,u.useEffect)((function(){n.isReady&&n.query.refcode&&i(n.query.refcode)}),[n.isReady,n.query,i]),(0,u.useEffect)((function(){c.Z.get("refcode")&&a(!0)}),[]);var m=(0,u.useCallback)((function(){return!c.Z.get("refcode")&&!n.query.refcode}),[n.query]),f=(0,p.Z)("fto_2021",m),g=(0,l.Z)(f,1)[0];(0,u.useEffect)((function(){"received_promo"===g&&i(d.rh.wwwFTOExp)}),[g,i]);var x=(0,u.useMemo)((function(){return t.map((function(e){var t;return null===(t=e.slices)||void 0===t?void 0:t.find((function(e){return"announcement"===e.type})).metadata}))}),[t]);return(0,j.jsx)(Z,{data:x,utmSourceParam:n.query.utm_source,hasRefCode:r})};Z.defaultProps={utmSourceParam:"",hasRefCode:!1};var S="https://www.digitalocean.com/".replace(/\/*$/,""),A=function(e){var t=e.children,n=e.footerWaveColor,o=e.metaData,l=e.announcementData,u=e.ignoreType,s=e.ignoreSlug,c=o.path;return c||(c=S,c+=!u&&o.type?"/".concat(o.type,"/"):"",c+=!s&&o.slug?"".concat(o.slug,"/"):""),(0,j.jsxs)(a.Z,{children:[(0,j.jsxs)(r(),{children:[(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("link",{rel:"canonical",href:c}),(0,j.jsx)("meta",{property:"og:url",content:c})]}),(null===o||void 0===o?void 0:o.description)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("meta",{name:"description",content:o.description},"description"),(0,j.jsx)("meta",{name:"twitter:description",content:o.description},"twitterDescription"),(0,j.jsx)("meta",{property:"og:description",content:o.description},"ogDescription")]}),(null===o||void 0===o?void 0:o.title)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("title",{children:o.title}),(0,j.jsx)("meta",{name:"twitter:title",content:o.title},"twitterTitle"),(0,j.jsx)("meta",{property:"og:title",content:o.title},"ogTitle")]}),(null===o||void 0===o?void 0:o.open_graph_image)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("meta",{name:"twitter:image",property:o.open_graph_image},"twitterImage"),(0,j.jsx)("meta",{name:"twitter:card",content:"summary_large_image"},"twitterCard"),(0,j.jsx)("meta",{property:"og:image",content:o.open_graph_image},"ogImage")]})]}),(0,j.jsx)(C,{data:l}),t,(0,j.jsx)(i.Z,{footerWaveColor:n})]})},T=A;A.defaultProps={footerWaveColor:null,ignoreType:!1,ignoreSlug:!1}},75256:function(e,t,n){var o=n(67294),r=n(30022);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,o.useState)(!1),i=a[0],l=a[1],u=(0,o.useState)(),s=u[0],c=u[1];(0,o.useEffect)((function(){var e;if(!window||i)return function(){};if(null!==(e=window.analytics)&&void 0!==e&&e.isReady)return l(!0),function(){};var t=function(){l(!0)};return document.addEventListener("analyticsReady",t),function(){document.removeEventListener("analyticsReady",t)}}),[i]);var d=(0,o.useMemo)((function(){var e,o,r,a;return!!i&&(!(null===(e=window)||void 0===e||null===(o=e.analytics)||void 0===o||!o.user||"function"!==typeof window.analytics.user)&&(!!("function"===typeof(null===(r=window.analytics.user())||void 0===r?void 0:r.id)&&null===window.analytics.user().id()||n)&&(!("function"!==typeof(null===(a=window.analytics.user())||void 0===a?void 0:a.anonymousId)||!window.analytics.user().anonymousId())&&!("function"===typeof t&&!t()))))}),[i,t,n]),p=(0,o.useState)(null),m=p[0],f=p[1];return(0,o.useEffect)((function(){if(d){var t=new r.Experimentation(window.analytics.user().anonymousId(),r.LOG_LEVEL.INFO);c(t),t.loadEnv("https://cdn.optimizely.com/datafiles/YApSr5LXM4fZAxRPFXsCJC.json",(function(){f(t.activate(e))}))}else f(null)}),[d,e]),[m,s]}},84089:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var o=n(67294),r=n(9008),a=n.n(r),i=n(11163),l=n(50029),u=n(87794),s=n.n(u),c=n(17053),d=n(83454),p=function(){var e=(0,l.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null!==(t=d)&&void 0!==d&&null!==(n=t.env)&&void 0!==n&&n.BYPASS_DATA_CACHE?(0,c.dY)({type:"announcement"}):[{id:24,type:"announcement",title:"$200 60 day credit to new users",subtitle:"null",description:null,slug:"credit-to-new-users",state:"published",last_validated_at:null,show_on_list_view_at:null,featured_at:null,primary_featured_at:null,created_at:"2020-05-26T18:10:17.000Z",updated_at:"2022-09-26T21:13:45.000Z",site:"community",open_graph_image:null,author:"undefined",auto_publish_at:null,slices:[{id:29,static_page_id:24,position:0,type:"announcement",metadata:{title:{label:"Title",type:"text",value:"$200 60 day credit to new users"},background_color:{label:"Background color",type:"text",value:"#031b4e"},text_color:{label:"Text color",type:"dropdown",options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],value:"light"},refcode:{label:"Refcode",type:"text",value:null},utm_source:{label:"UTM Source",type:"text",value:null},icon:{label:"Icon",type:"image",value:null},referral_credit_text:{label:"Referral credit text",type:"textarea",value:"Free credit active: Get started on DigitalOcean with a $200, 60-day credit for new users."},referral_link_credit_text:{label:"Referral link credit text",type:"text",value:"Free credit active: Get started on DigitalOcean with a $200, 60-day credit for new users."},link:{label:"Link",type:"text",value:"https://cloud.digitalocean.com/registrations/new"}},created_at:"2020-05-26T18:10:17.000Z",updated_at:"2022-09-26T21:13:45.000Z"}],tags:[],publishers:[],editors:[],authorData:[]},{id:25,type:"announcement",title:"Github Announcement Bar",subtitle:"null",description:null,slug:"github-announcement-bar",state:"published",last_validated_at:null,show_on_list_view_at:null,featured_at:null,primary_featured_at:null,created_at:"2020-05-21T16:02:59.000Z",updated_at:"2022-09-26T21:14:16.000Z",site:"community",open_graph_image:null,author:"undefined",auto_publish_at:null,slices:[{id:30,static_page_id:25,position:0,type:"announcement",metadata:{title:{label:"Title",type:"text",value:"Github Announcement Bar"},background_color:{label:"Background color",type:"text",value:null},text_color:{label:"Text color",type:"dropdown",options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],value:"light"},refcode:{label:"Refcode",type:"text",value:null},utm_source:{label:"UTM Source",type:"text",value:"github"},icon:{label:"Icon",type:"image",value:null},referral_credit_text:{label:"Referral credit text",type:"textarea",value:"Apply your unique promo code in your account settings to receive a $200 credit."},referral_link_credit_text:{label:"Referral link credit text",type:"text",value:"Apply your unique promo code in your account settings to receive a $200 credit."},link:{label:"Link",type:"text",value:"https://cloud.digitalocean.com/registrations/new?refcode=74a1c5d63dac"}},created_at:"2020-05-21T16:02:59.000Z",updated_at:"2022-09-26T21:14:16.000Z"}],tags:[],publishers:[],editors:[],authorData:[]}]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=p,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,o.useState)(e),n=t[0],r=t[1],a=(0,o.useMemo)((function(){return n||[]}),[n]);return(0,o.useEffect)((function(){n||m().then((function(e){return r(e)}))}),[n]),a},g=n(99963),x=n(64975),h=n(34531),y=n(58069),v=n(37797),_=v.ZP.div.withConfig({displayName:"ErrorTemplateStyles__StyledWrapper",componentId:"sc-gfxdmj-0"})(["align-items:center;display:flex;flex-direction:column;margin:112px 0 32px;"]),b=v.ZP.h1.withConfig({displayName:"ErrorTemplateStyles__StyledTitle",componentId:"sc-gfxdmj-1"})(["color:#031b4e;font-size:48px;font-weight:700;letter-spacing:-1px;line-height:1.2;margin:48px 0 16px;text-align:center;"]),w=v.ZP.p.withConfig({displayName:"ErrorTemplateStyles__StyledMessage",componentId:"sc-gfxdmj-2"})(["color:#031b4e;font-family:monospace;text-align:center;"]),j=n(85893),k=function(e){var t=e.message,n=e.secondaryMessage,o=e.showAuthButton;return(0,j.jsx)(y.Z,{children:(0,j.jsxs)(_,{children:[(0,j.jsxs)(b,{children:[(0,j.jsx)("small",{children:"D"}),":",(0,j.jsx)("br",{}),(0,j.jsx)("small",{children:t})]}),o?(0,j.jsx)(h.Z,{url:(0,x.Z)(),className:"is-primary is-rounded",children:"Try again"}):(0,j.jsx)(h.Z,{url:"/",className:"is-primary is-rounded",children:"Go home"}),n&&(0,j.jsx)(w,{children:n})]})})},Z=k;k.defaultProps={secondaryMessage:"",showAuthButton:!1};var C=function(e){var t=e.statusCode,n=e.authFailure,r=e.announcementData,l=f(r),u=(0,i.useRouter)(),s=(0,o.useMemo)((function(){if(n)return{title:"Authentication error",message:"Something went wrong when signing you in",secondary:"".concat(u.query.error_code,": ").concat(u.query.error_message),showAuthButton:!0};switch(t){case 403:return{title:"403 - Access denied",message:"403: You do not have permission to access this page."};case 404:return{title:"404 - Page not found",message:"404: The page you requested could not be found."};default:return{title:"Uh oh! An unexpected error occurred",message:"Uh oh! An unexpected error occurred",secondary:"If this error persists, please reach out to support for help."}}}),[n,u.query,t]),c=(0,o.useMemo)((function(){return{data:{title:[{text:s.title||s.message}]}}}),[s]);return(0,j.jsxs)(g.Z,{announcementData:l,metaData:c,children:[(0,j.jsx)(a(),{children:(0,j.jsx)("meta",{name:"robots",content:"noindex"})}),(0,j.jsx)(Z,{message:s.message||s.title,secondaryMessage:s.secondary,showAuthButton:s.showAuthButton})]})},S=C;C.defaultProps={statusCode:null,authFailure:!1,announcementData:null}}}]);